President Donald Trump said on Wednesday he would ban transgender people from the U.S. military, a move appealing to some in his conservative political base but creating uncertainty about the fate of thousands of transgender service members. The surprise announcement by Trump, who as a presidential candidate last year vowed to fight for lesbians, gays, bisexuals and transgender people, came in a series of morning Twitter posts. It drew condemnation from rights groups and some lawmakers in both parties as politically motivated discrimination but was praised by conservative activists and some Republicans. The administration has not determined whether transgender individuals already serving in the military would be immediately thrown out, a point the White House and Pentagon have yet to decide, Trump spokeswoman Sarah Sanders said. A transgender ban would reverse Democratic former President Barack Obama’s policy and halts years of efforts to eliminate barriers to military service based on sexual orientation or gender identity. “After consultation with my Generals and military experts, please be advised that the United States Government will not accept or allow transgender individuals to serve in any capacity in the U.S. Military,” Trump tweeted, without naming any of the generals or experts. “Our military must be focused on decisive and overwhelming victory and cannot be burdened with the tremendous medical costs and disruption that transgender in the military would entail,” he said. Sanders said Trump had “extensive discussions with his national security team,” and Defense Secretary Jim Mattis was informed after the president made the decision on Tuesday. “This was about military readiness,” Sanders told a briefing. “This was about unit cohesion. This was about resources within the military, and nothing more.” The Pentagon earlier referred questions about Trump’s decision to the White House. Critics said the health costs of caring for transgender service members were a tiny portion of the military’s healthcare budget and Trump’s policy change was based on prejudice. His action unleashed a torrent of legal threats from civil liberties advocates seeking plaintiffs willing to challenge the ban in court and sparked a protest by hundreds who rallied outside an armed forces recruiting station in Manhattan’s Times Square. “We are in a crisis. This is a dark day for everyone,” Brad Hoylman, New York’s sole openly gay state senator, said as he addressed the crowd, which carried “Resist” signs amid chants of: “Hey-hey, ho-ho, Donald Trump has got to go.” Trump’s tweet caught some White House officials by surprise.  A senior administration official said Trump had been determined to act for a while but the question was the timing, with advisers split on whether to conduct reviews before announcing the move. The announcement at least temporarily changed the subject in Washington, where Trump’s administration faces investigations into his presidential campaign’s contacts with Russia and has struggled to win major legislative victories. It was not the first time Trump has targeted transgender people since taking office in January. In February, he rescinded protections for transgender students put in place by Obama that had let them use bathrooms corresponding with their gender identity. Senate Armed Forces Committee Chairman John McCain